package cc.slack.features.modules.impl.exploit.disablers.others;

import cc.slack.events.impl.network.PacketEvent;
import cc.slack.events.impl.player.UpdateEvent;
import cc.slack.features.modules.impl.exploit.disablers.IDisabler;
import cc.slack.features.modules.impl.movement.Speed;
import cc.slack.start.Slack;
import cc.slack.utils.network.PacketUtil;
import cc.slack.utils.other.PrintUtil;
import cc.slack.utils.player.MovementUtil;
import cc.slack.utils.rotations.RotationUtil;
import net.minecraft.network.play.client.*;
import net.minecraft.util.MathHelper;
import net.minecraft.util.Vec3;

import static java.lang.Float.NaN;

public class    HypixelDisabler implements IDisabler {

    boolean c09 = false;
    boolean c08 = false;
    boolean c07 = false;

    @Override
    public void onUpdate(UpdateEvent event) {

        c09 = false;
        c08 = false;
        c07 = false;
    }

    @Override
    public void onPacket(PacketEvent event) {
        if (event.getPacket() instanceof C09PacketHeldItemChange) {
            if (c09) event.cancel();
            c09 = true;
        }

        if (Math.abs(MathHelper.wrapAngleTo180_float(RotationUtil.getRotations(new Vec3(0, 0, 0), new Vec3(mc.thePlayer.motionX, 0, mc.thePlayer.motionZ))[0] - MovementUtil.getBindsDirection(mc.thePlayer.rotationYaw))) > 140) {
            mc.thePlayer.setSprinting(false);
        }
    }

    @Override
    public String toString() {
        return "Hypixel";
    }
}
